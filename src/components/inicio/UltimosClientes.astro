---
const images = [
  { src: "agrovado-logo.png", alt: "Agrovado Logo" },
  { src: "cerroVerde-logo.svg", alt: "Cerro Verde Logo" },
  { src: "bhp-logo.svg", alt: "BHP Logo" },
  { src: "eriez-logo.png", alt: "Eriez Logo" },
  { src: "genco-logo.png", alt: "Genco Logo" },
  { src: "pfizer-logo.svg", alt: "Pfizer Logo" },
  { src: "roxfarma-logo.png", alt: "Roxfarma Logo" },
]
---

<section class="overflow-x-hidden">
  <div class="max-w-[1200px] mx-auto mt-20 px-7">
    <div class="md:skew-x-[30deg] skew-x-[20deg] w-full sm:w-fit md:h-[72px] h-16">
      <div class="bg-blue-900 flex items-center justify-center md:px-8 sm:px-6 px-0 h-full">
        <h2 class="font-energy md:skew-x-[-30deg] skew-x-[-20deg] text-xl sm:text-2xl md:text-4xl uppercase text-white max-sm:tracking-wider">
          Nuestros ultimos clientes
        </h2>
      </div>
    </div>
    <div
      class="min-w-0 border-blue-900 border-4 md:skew-x-[-30deg] skew-x-[-20deg] overflow-hidden"
    >
      <swiper-container
        init="false"
        id="swiper-marquee"
        class="md:skew-x-[30deg] skew-x-[20deg] -mx-5"
      >
        {
          images.map(({ src, alt }) => (
            <swiper-slide>
              <img
                class="saturate-0 hover:saturate-100 transition-all duration-300 mx-auto h-14 md:h-16 py-2"
                src={`images/inicio/clients/${src}`}
                alt={alt}
              />
            </swiper-slide>
          ))
        }
      </swiper-container>
    </div>
  </div>
</section>

<script>
  const swiperMarquee = document.querySelector("#swiper-marquee")

  const swiperMarqueeParams = {
    loop: true,
    speed: 5000,
    allowTouchMove: false,
    autoplay: {
      delay: 0,
      disableOnInteraction: false,
    },
    breakpoints: {
      320: {
        slidesPerView: 2,
      },
      480: {
        slidesPerView: 2,
      },
      640: {
        slidesPerView: 3,
      },
      768: {
        slidesPerView: 3,
      },
      1024: {
        slidesPerView: 4,
      },
    },
    injectStyles: [
      `
      .swiper-wrapper {
        transition-timing-function: linear !important;
      }
    `,
    ],
    on: {
      init() {},
    },
  }
  // @ts-ignore
  Object.assign(swiperMarquee, swiperMarqueeParams)
  // @ts-ignore
  swiperMarquee.initialize()
</script>

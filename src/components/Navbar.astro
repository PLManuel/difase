---
import Modal from "./Modal.astro"

interface Props {
  hero?: boolean
  inicio?: boolean
  nosotros?: boolean
  catalogo?: boolean
  servicios?: boolean
  contactanos?: boolean
}

const {
  hero = false,
  inicio = false,
  nosotros = false,
  catalogo = false,
  servicios = false,
  contactanos = false,
} = Astro.props
---

<header class="flex flex-col fixed top-0 w-full z-50">
  <aside
    class="h-14 flex justify-between items-center sm:px-4 px-2 overflow-hidden sm:gap-10 gap-5"
  >
    <section class="flex gap-2 sm:gap-4 md:gap-5 mr-2 text-blue-950">
      <div
        class="flex items-center max-[500px]:text-sm text-base sm:text-lg md:text-xl text-blue-800"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="size-10"
        >
          <path stroke="none" d="M0 0h24v24H0z"></path>
          <path
            d="M5 7.2a2.2 2.2 0 0 1 2.2 -2.2h1a2.2 2.2 0 0 0 1.55 -.64l.7 -.7a2.2 2.2 0 0 1 3.12 0l.7 .7c.412 .41 .97 .64 1.55 .64h1a2.2 2.2 0 0 1 2.2 2.2v1c0 .58 .23 1.138 .64 1.55l.7 .7a2.2 2.2 0 0 1 0 3.12l-.7 .7a2.2 2.2 0 0 0 -.64 1.55v1a2.2 2.2 0 0 1 -2.2 2.2h-1a2.2 2.2 0 0 0 -1.55 .64l-.7 .7a2.2 2.2 0 0 1 -3.12 0l-.7 -.7a2.2 2.2 0 0 0 -1.55 -.64h-1a2.2 2.2 0 0 1 -2.2 -2.2v-1a2.2 2.2 0 0 0 -.64 -1.55l-.7 -.7a2.2 2.2 0 0 1 0 -3.12l.7 -.7a2.2 2.2 0 0 0 .64 -1.55v-1"
          ></path>
          <path d="M9 12l2 2l4 -4"></path>
        </svg>
        <strong
          class="uppercase text-center font-oblivion tracking-widest max-[500px]:w-28 w-32 sm:w-32 md:w-36 leading-5"
        >
          <span class="font-bold tracking-tighter text-[1.7rem]"> 12 </span>
          años contigo
        </strong>
      </div>
      <!-- <a class="self-center transition-colors hover:text-blue-900" href="/">
        <Icon name="logos/facebook-icon" class="size-8 sm:size-9 md:size-10" />
      </a>
      <a class="self-center transition-colors hover:text-blue-900" href="/">
        <Icon name="logos/instagram-icon" class="size-8 sm:size-9 md:size-10" />
      </a>
      <a class="self-center transition-colors hover:text-blue-900" href="/">
        <Icon name="logos/x-icon" class="size-8 sm:size-9 md:size-10" />
      </a>
      <a class="self-center transition-colors hover:text-blue-900" href="/">
        <Icon name="logos/youtube-icon" class="size-8 sm:size-9 md:size-10" />
      </a> -->
    </section>
    <Modal size="lg">
      <!-- <div id="search" transition:persist></div>
      <script>
        window.addEventListener("DOMContentLoaded", (event) => {
          // @ts-ignore
          new PagefindUI({ element: "#search", showSubResults: true })
        })
      </script> -->
    </Modal>
  </aside>
  <section
    class={`backdrop-blur shadow-lg ${hero ? "text-[#fff]" : "text-[#162456]"} flex max-md:flex-wrap justify-between py-3 px-4 items-center relative`}
  >
    <a href="/" class="flex items-center gap-2">
      <img src="isotipo.svg" class="w-8 lg:w-12" alt="" />
      <img src="logotipo.svg" class="w-24 lg:w-32" alt="" />
    </a>
    <input type="checkbox" class="peer hidden" id="navbar-open" />
    <label
      class="w-8 md:hidden block absolute top-[.8rem] right-1 cursor-pointer"
      for="navbar-open"
    >
      <span class="sr-only">boton de menú</span>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <path d="M4 6h16"></path>
        <path d="M7 12h13"></path>
        <path d="M10 18h10"></path>
      </svg>
    </label>
    <nav
      class="max-md:order-last max-md:w-full overflow-hidden transition-all peer-checked:max-h-max max-md:max-h-0 duration-300 ease-in-out max-md:text-center"
    >
      <ul
        class="flex max-md:flex-col md:gap-2 max-md:text-base max-lg:text-sm max-md:mt-4 font-semibold"
      >
        <li>
          <a
            class=`block py-3 lg:px-6 md:px-2 px-1 relative underline transition-colors duration-300 underline-offset-8 ${inicio ? "decoration-inherit" : "decoration-transparent hover:decoration-inherit"}`
            href="/">Inicio</a
          >
        </li>
        <li>
          <a
            class=`block py-3 lg:px-6 md:px-2 px-1 relative underline transition-colors duration-300 underline-offset-8 ${nosotros ? "decoration-inherit" : "decoration-transparent hover:decoration-inherit"}`
            href="/nosotros">Nosotros</a
          >
        </li>
        <li>
          <a
            class=`block py-3 lg:px-6 md:px-2 px-1 relative underline transition-colors duration-300 underline-offset-8 ${catalogo ? "decoration-inherit" : "decoration-transparent hover:decoration-inherit"}`
            href="/catalogo">Catalogo</a
          >
        </li>
        <li>
          <a
            class=`block py-3 lg:px-6 md:px-2 px-1 relative underline transition-colors duration-300 underline-offset-8 ${servicios ? "decoration-inherit" : "decoration-transparent hover:decoration-inherit"}`
            href="/servicios">Servicios</a
          >
        </li>
        <li>
          <a
            class=`block py-3 lg:px-6 md:px-2 px-1 relative underline transition-colors duration-300 underline-offset-8 ${contactanos ? "decoration-inherit" : "decoration-transparent hover:decoration-inherit"}`
            href="/contactanos">Contactanos</a
          >
        </li>
      </ul>
    </nav>
    <div class="flex items-center gap-2">
      <button
        class="bg-gradient-to-tl border from-indigo-700 via-blue-600 to-indigo-700 text-white uppercase font-oblivion tracking-[0.2em] md:text-xs text-[.7rem] md:px-4 md:py-3 p-2 max-md:mr-7"
      >
        Cotizar
      </button>
    </div>
  </section>
</header>

<style>
  aside {
    background: linear-gradient(
      45deg,
      #ccc 5%,
      #fff 10%,
      #ccc 30%,
      #ddd 50%,
      #ccc 70%,
      #fff 80%,
      #bbb 95%
    );
    transition-property: height;
    transition-duration: 300ms;
    animation: hidden-header-top linear both;
    animation-timeline: scroll();
    animation-range: 0 3.5rem;
  }

  header > section {
    transition-property: color, background-color;
    transition-duration: 300ms;
    animation: enhance-nav linear both;
    animation-timeline: scroll();
    animation-range: 0 5rem;
    background-color: rgba(255, 255, 255, 0.2);
    > nav {
      interpolate-size: allow-keywords;
    }
  }

  @keyframes hidden-header-top {
    to {
      height: 0;
    }
  }

  @keyframes enhance-nav {
    to {
      color: #172454;
      background-color: rgba(255, 255, 255, 0.9);
    }
  }
</style>
